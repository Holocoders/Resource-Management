<p-dataView #dv [value]="facilities" filterBy="name" layout="grid">
  <ng-template pTemplate="header">
    <div class="flex flex-wrap justify-content-between">
      <span class="p-input-icon-left p-mb-2 p-mb-md-0">
                  <i class="pi pi-search"></i>
                  <input (input)="dv.filter($any($event.target).value)" pInputText placeholder="Search by Name"
                         type="search">
              </span>
      <p-button (onClick)="display=true" class="mr-2" icon="pi pi-plus" label="Add"></p-button>
    </div>
  </ng-template>
  <ng-template let-facility pTemplate="gridItem">
    <app-node-grid-item (click)="goToNode(facility)"
                        (onDeleteClick)="removeFacility($event)"
                        [obj]="facility" class="cursor-pointer">
    </app-node-grid-item>
  </ng-template>
</p-dataView>

<p-dialog [(visible)]="infoDisplay" [header]="selectedFacility.name">
  {{selectedFacility.description}}
</p-dialog>
<p-dialog [(visible)]="display" [draggable]="false" [modal]="true" [position]="'top'"
          [resizable]="false" header="Add Facility" styleClass="w-full">
  <div class="w-full grid">
    <div class="col-12 lg:col-6 p-4">
      <div class="flex flex-column w-full">
        <div class="p-field">
          <label for="facility-name">
            <h6 class="mb-1">Facility Name</h6>
          </label>
          <input [(ngModel)]="newFacilityName" id="facility-name" pInputText>
        </div>
        <div class="p-field mt-4">
          <label for="facility-desc">
            <h6 class="mb-1">Description</h6>
          </label>
          <textarea [(ngModel)]="newFacilityDesc" class="w-full" id="facility-desc" pInputTextarea></textarea>
        </div>
      </div>
    </div>
    <div class="col-12 lg:col-6 p-4">
      <app-suggest-images (onFileUpload)="newFacilityImage = $event"
                          [query]="newFacilityName"></app-suggest-images>
    </div>
  </div>
  <ng-template pTemplate="footer">
    <p-button (click)="addFacility()" icon="pi pi-check" label="Add" styleClass="p-button-text"></p-button>
  </ng-template>
</p-dialog>
