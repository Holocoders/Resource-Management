<p-dataView #dv [value]="facilities" filterBy="name" layout="grid">
  <ng-template pTemplate="header">
    <div class="flex flex-wrap justify-content-between">
      <span class="p-input-icon-left p-mb-2 p-mb-md-0">
                  <i class="pi pi-search"></i>
                  <input type="search" pInputText placeholder="Search by Name"
                         (input)="dv.filter($any($event.target).value)">
              </span>
      <p-button label="Add" icon="pi pi-plus" class="mr-2" (onClick)="display=true"></p-button>
    </div>
  </ng-template>
  <ng-template let-facility pTemplate="gridItem">
    <app-node-grid-item class="cursor-pointer"
                                     (click)="goToNode(facility?._id?._id, facility?._id?.isItem)"
                                     (onDeleteClick)="$event.stopPropagation(); removeFacility($event)" [obj]="facility"></app-node-grid-item>
  </ng-template>
</p-dataView>

<p-dialog header="Add Facility" [(visible)]="display" [style]="{width: '50vw'}">
  <span class="p-float-label">
    <input id="float-input" type="text" pInputText [(ngModel)]="newFacilityName">
    <label for="float-input">Name</label>
  </span>
  <br>
  <span>
    <label>Picture</label>
    <span *ngIf="fileAdded"><br>{{newFacilityImage.name}} &nbsp;
      <p-button icon="pi pi-times" styleClass="p-button-sm p-button-danger" (onClick)="removeImage()"></p-button>
    </span>
    <p-fileUpload *ngIf="!fileAdded" mode="basic" (onSelect)="uploadImage($event)"></p-fileUpload>
  </span>

  <ng-template pTemplate="footer">
    <p-button icon="pi pi-check" (click)="addFacility()" label="Add" styleClass="p-button-text"></p-button>
  </ng-template>
</p-dialog>
