<p-dataView #dv [value]="facilities" filterBy="name" layout="grid">
  <ng-template pTemplate="header">
    <div class="flex flex-wrap justify-content-between">
      <span class="p-input-icon-left p-mb-2 p-mb-md-0">
                  <i class="pi pi-search"></i>
                  <input type="search" pInputText placeholder="Search by Name"
                         (input)="dv.filter($any($event.target).value)">
              </span>
      <p-button label="Add" icon="pi pi-plus" class="mr-2" (onClick)="display=true"></p-button>
    </div>
  </ng-template>
  <ng-template let-facility pTemplate="gridItem">
    <div class="mt-2 mr-2 border-1 border-top-0 rounded-corners border-400">
      <div class="grid w-24rem ">
      <div class="col-12">
        <div class="bg-primary flex flex-wrap justify-content-between border-round-top">
          <div class="flex align-items-center justify-content-center
      flex-none font-bold border-round m-2" style="visibility: hidden">
            <i class="pi pi-pencil"></i> &nbsp;&nbsp;
            <button class="p-button-rounded" pButton type="button"
                    icon="pi pi-info-circle" pTooltip="{{facility.description}}"></button>
          </div>
          <div class="flex align-items-center justify-content-center
      flex-grow-1 font-bold border-round">
            {{facility.name}}
          </div>
          <div class="flex align-items-center justify-content-center
      flex-none font-bold border-round m-2">
            <i class="pi pi-pencil"></i> &nbsp;&nbsp;
<!--            <button class="p-button-rounded" pButton type="button"-->
<!--                    icon="pi pi-info-circle" (click)="openInfo(facility)"></button>-->
                <button class="p-button-rounded" pButton type="button"
                        icon="pi pi-info-circle" pTooltip="{{facility.description}}"></button>
          </div>
        </div>
      </div>
      <div class="col-12 flex flex-wrap justify-content-center">
        <img width="100" height="100"
             [src]="'http://localhost:3000/' + facility._id._id" [alt]="facility.name"/>
      </div>
      <div class="col-12">
        <div class="flex justify-content-around flex-wrap card-container indigo-container">
          <div class="flex align-items-center justify-content-center
          w-8rem border-round m-2">
            <p-chip label="Category : 4" styleClass="bg-primary"></p-chip></div>
          <div class="flex align-items-center justify-content-center
           w-8rem border-round m-2">
            <p-chip label="Items : 40" styleClass="bg-blue-100"></p-chip></div>
        </div>
      </div>
      <div class="col-12">
        <p-divider></p-divider>
      </div>
      <div class="col-12 flex flex-wrap justify-content-center">
        <button pButton pRipple type="button" icon="pi pi-trash" (click)="removeFacility(facility._id._id)"
                class="p-button-raised p-button-danger p-button-text"></button>
      </div>
    </div>
    </div>
  </ng-template>
</p-dataView>

<p-dialog [header]="selectedFacility.name" [(visible)]="infoDisplay">
  {{selectedFacility.description}}
</p-dialog>
<p-dialog header="Add Facility" [(visible)]="display" [position]="'top'" [modal]="true"
          styleClass="w-full" [draggable]="false" [resizable]="false">
  <div class="w-full grid">
    <div class="col-12 lg:col-6 p-4">
      <div class="flex flex-column w-full">
        <div class="p-field">
          <label for="facility-name">
            <h6 class="mb-1">Facility Name</h6>
          </label>
          <input id="facility-name" pInputText [(ngModel)]="newFacilityName">
        </div>
        <div class="p-field mt-4">
          <label for="facility-desc">
            <h6 class="mb-1">Description</h6>
          </label>
          <textarea class="w-full" pInputTextarea id="facility-desc" [(ngModel)]="newFacilityDesc"></textarea>
        </div>
      </div>
    </div>
    <div class="col-12 lg:col-6 p-4">
      <app-suggest-images (onFileUpload)="newFacilityImage = $event"></app-suggest-images>
    </div>
  </div>
  <ng-template pTemplate="footer">
    <p-button icon="pi pi-check" (click)="addFacility()" label="Add" styleClass="p-button-text"></p-button>
  </ng-template>
</p-dialog>
